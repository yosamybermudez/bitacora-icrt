{% extends '_themes/sneat/base.html.twig' %}

{% set title = 'Trabajador' %}

{% block title %}{{ title }}{% endblock %}

{% block content %}
    <div class="card mb-4">
        <div class="card-body d-flex">
            <h4 class="fw-bold mb-0 align-self-center"><span class="text-muted fw-light">
            <a class="text-muted" href="{{ path('app_trabajador_index') }}">{{ title }}</a>
            /</span> {{ trabajador.nombreCompleto }}</h4>
            <ul class="nav nav-pills flex-column flex-md-row-reverse ms-auto">
                <li class="nav-item">
                    {% if is_granted('ROLE_JEFE_INFORMATICA') %}
                        <a class="btn btn-primary me-2" href="{{ path('app_trabajador_edit', {'id': trabajador.id}) }}">Editar</a>
                        {% include 'includes/form_delete_show.html.twig' with {'path' : 'app_trabajador_delete', 'entity' : trabajador} %}
                    {% endif %}
                </li>
            </ul>
        </div>
    </div>
    <div class="row">
        <div class="col-md-12">
            <div class="card mb-4">
                <div class="card-body">
                    <div class="d-flex align-items-start align-items-sm-center gap-4">
                        <img src="{% include 'includes/trabajador_foto.html.twig' with {'trabajador' : trabajador } %}" class="d-block rounded" width="200" height="200">
                        <div class="d-flex flex-fill align-content-between">
                            <div class="mb-2 flex-grow-1 align-self-center">
                                <h4>{{ trabajador.nombreCompleto }}</h4>
                                <p><i>{{ trabajador.cargo.nombre }}</i></p>
                                <span class="badge bg-secondary">{{ trabajador.area.nombre }}</span>
                            </div>
                        </div>
                    </div>
                </div>
                <hr class="my-0">
                <div class="card-body">
                        <div class="row">
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Nombre(s) y apellidos</label>
                                <p>{{ trabajador.nombreCompleto }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Sexo</label>
                                <p>{{ trabajador.sexo }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Correo electrónico</label>
                                <p>{{ trabajador.correoElectronico }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Carné de identidad</label>
                                <p>{{ trabajador.carneIdentidad }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Cargo</label>
                                <p>{{ trabajador.cargo.nombre }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Área</label>
                                <p>{{ trabajador.area.nombre }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label" for="phoneNumber">Teléfonos</label>
                                <p>{{ trabajador.telefonoPrincipal }} {{ trabajador.telefonoPrincipal ? ', ' ~ trabajador.telefonoAlternativo  : '' }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Dirección</label>
                                <p>{{ trabajador.direccion }}</p>
                            </div>
                            <div class="mb-3 col-md-6">
                                <label class="form-label">Fecha de alta</label>
                                <p>{{ trabajador.fechaAlta ? trabajador.fechaAlta | date('d/m/Y') : 'N/E'}}</p>
                            </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
    </div>
{% endblock %}
